axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.7, padj=0)
text(1995,
max(xx$counts)*.8,
paste(length(x[!is.na(Latest_Year),Latest_Year]), " data points", sep=""),
cex = 0.6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.7, padj=0)
text(1995,
max(xx$counts)*.8,
paste("("length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.7, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
x[!is.na(Latest_Year),Latest_Year]
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.5, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
x <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
x[!is.na(Latest_Year),Latest_Year]
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
x[!is.na(Latest_Year),Latest_Year]
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.5, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
x[!is.na(Latest_Year),Latest_Year]
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.45, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\n\"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
x[!is.na(Latest_Year),Latest_Year]
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed oda.source donor",d,"\n")
dev.off()
}
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed ",seriesCode,"\n")
dev.off()
}
wf <- country_1.1.1-SI_POV_EMP1_wide.csv
wf <- "country_1.1.1-SI_POV_EMP1_wide.csv"
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
View(x)
y<- x %>%
group_by(IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
View(y)
y<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
View(y)
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed ",seriesCode,"\n")
dev.off()
}
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
x
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
x
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",series,"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed ",seriesCode,"\n")
dev.off()
}
wrap_labels <- function(label, line.length = 30)
{
l <- paste(strwrap(label, line.length), collapse = "\n")
return(l)
}
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",wrap_labels <- function(series, line.length = 55),"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed ",seriesCode,"\n")
dev.off()
}
wf
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",wrap_labels <- function(series, line.length = 55),"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",wrap_label(series, line.length = 55),"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",wrap_labels(series, line.length = 55),"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
dev.off()
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",wrap_labels(series, line.length = 55),"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator,
"\nSeries: \"",wrap_labels(series, line.length = 50),"\"",
"\n (RC Countries)", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed ",seriesCode,"\n")
dev.off()
}
for(wf in wide_files) {
x <- read.tab2dataTable(paste("https://raw.githubusercontent.com/UNStats/FIS4SDGs/master/unsd/data/csv/",wf,sep=""),
sep = ",",
quote = "\""
)
x <- merge(cr_countries[,list(M49)], x, by.x = c("M49"), by.y = c("GeoArea_Code"))
x <- as.data.table(x)
x<- x %>%
group_by(M49, GeoArea_Desc, ISO3CD, IndicatorCode, SeriesDesc,SeriesCode) %>%
summarize(Latest_Year = mean(Latest_Year, na.rm=TRUE))
x <- as.data.table(x)
indicator <- x$IndicatorCode[1]
series <- x$SeriesDesc[1]
seriesCode <- x$SeriesCode[1]
x[!is.na(Latest_Year),Latest_Year]
svg(filename=paste("output/latest-year-dist-", indicator, "-",seriesCode,".svg"),
width=8, height=6)
xx <- hist(x$Latest_Year,
main = paste("Latest available year for Indicator ",indicator, " (RC Countries)",
"\nSeries: \"",wrap_labels(series, line.length = 50),"\"", sep = ""),
xlab = "Year",
col="#E5233D",
breaks = 1990:2017,
xaxt='n')
axis(side=1, at=1990:2017-0.4, tick = FALSE,lwd=0,las=2,
labels=1990:2017, cex.axis=0.6, padj=0)
text(1995,
max(xx$counts)*.8,
paste("(",length(x[!is.na(Latest_Year),Latest_Year]), " data points)", sep=""),
cex = 0.6)
cat("finisthed ",seriesCode,"\n")
dev.off()
}
